package com.dive.game;

import java.util.ArrayList;
import java.util.List;
import java.util.Random;

import com.badlogic.gdx.Gdx;

public class ObjectGenerator {
<<<<<<< HEAD
<<<<<<< HEAD
	private Ente[] listEnten;
=======
	private Shark[] listSharks;
>>>>>>> upstream/master
	private float countDown;
	private float maxCountDown;
	private int pointer;

<<<<<<< HEAD
	private int maxNoEnte;
=======
	private int maxNoShark;
>>>>>>> upstream/master
	private int min = 70;
	private int max = 390;

	// constructor: kreiere Liste mit Haien
	public ObjectGenerator(int maxNoShark) {
		pointer = 0;
		this.maxNoShark = maxNoShark;
		countDown = maxCountDown = 1;
		listSharks = new Shark[maxNoShark];
		for (int i = 0; i < maxNoShark; i++) {
			listSharks[i] = new Shark(Gdx.graphics.getWidth(), randomInteger(min,
					max), 100, 100, -3.0f, Assets.getInstance().ente);
=======
	private Shark[] listSharks;
	private Plant[] listPlants;

	private float countDownShark;
	private float countDownPlant;

	private float maxCountDown;
	private int pointerShark;
	private int pointerPlant;

	// maximale Anzahl Haie, Pflanzen
	private int maxNoShark;
	private int maxNoPlant;

	// Höhe von Haien, Pflanzen haben feste y Koordinate
	private int minHeightShark = 120;
	private int maxHeightShark = 390;

	private int newSizeShark;
	private int newSizePlant;

	// constructor: kreiere Liste mit Haien
	public ObjectGenerator(int maxNoShark, int maxNoPlant) {
		pointerShark = 0;
		pointerPlant = 0;
		countDownShark = countDownPlant = maxCountDown = 1;

		this.maxNoShark = maxNoShark;
		this.maxNoPlant = maxNoPlant;

		newSizeShark = randomInteger(70, 150);
		newSizePlant = randomInteger(50, 110);

		listSharks = new Shark[maxNoShark];
		listPlants = new Plant[maxNoPlant];

		// kreiert Liste mit Haien
		for (int i = 0; i < maxNoShark; i++) {
<<<<<<< HEAD
			listSharks[i] = new Shark(Gdx.graphics.getWidth(), randomInteger(
					minHeightShark, maxHeightShark), newSizeShark,
					newSizeShark + 20, -3.0f, Assets.getInstance().shark);
		}

		// kreiert Liste mit Pflanzen
		for (int i = 0; i < maxNoPlant; i++) {
			listPlants[i] = new Plant(Gdx.graphics.getWidth(), newSizePlant,
					newSizePlant, -3.0f, Assets.getInstance().ente);
=======
			listSharks[i] = new Shark(Gdx.graphics.getWidth(), randomInteger(min,
					max), 100, 100, -3.0f, Assets.getInstance().shark);
>>>>>>> upstream/master
>>>>>>> upstream/master
		}
	}

	// gehe Liste der Haie durch und erstelle neue Liste von Haien welche genau
	// so gezeichnet werden soll
<<<<<<< HEAD
	public void nextObject(ArrayList<Shark> list, float deltaTime) {
		countDown -= deltaTime;
		
		// überprüft ob Zeit abgelaufen und Objekt nicht aktiv, schreibt in
		// Liste um dann gezeichnet zu werden
		if (countDown < 0 && !listSharks[pointer].active) {
			list.add(listSharks[pointer]);

			listSharks[pointer].active = true;
			pointer = (pointer + 1) % maxNoShark;
			countDown = maxCountDown + randomInteger(0, 2);
=======
	public void nextShark(ArrayList<GameObject> list, float deltaTime) {
		countDownShark -= deltaTime;

		// überprüft ob Zeit abgelaufen und Objekt nicht aktiv, schreibt in
		// Liste um dann gezeichnet zu werden
		if (countDownShark < 0 && !listSharks[pointerShark].active) {
			list.add(listSharks[pointerShark]);

			listSharks[pointerShark].active = true;
			pointerShark = (pointerShark + 1) % maxNoShark;
			countDownShark = maxCountDown + randomInteger(0, 2);
>>>>>>> upstream/master
		}

		// wenn Objekt Bildschirmrand erreicht wird es aus Liste gestrichen, auf
		// Ausgangsposition gesetzt und Status auf nicht aktiv, steht nun wieder
		// zur Verfügung
<<<<<<< HEAD
<<<<<<< HEAD
		for (int i = 0; i < maxNoEnte; i++) {
			Ente e = listEnten[i];
=======
		for (int i = 0; i < maxNoShark; i++) {
			Shark e = listSharks[i];
>>>>>>> upstream/master
			if (e.getActive() && (e.getSprite().getX() < -e.getSprite().getWidth())) {
=======

		for (int i = 0; i < maxNoShark; i++) {
			Shark e = listSharks[i];
			if (e.getActive()
					&& (e.getSprite().getX() < -e.getSprite().getWidth())) {
>>>>>>> upstream/master

				e.setActive(false);
				list.remove(e);
				e.getSprite().setX(Gdx.graphics.getWidth());
<<<<<<< HEAD
				e.getSprite().setY(randomInteger(min, max));
				int newSize = randomInteger(50,120);
				e.getSprite().setSize(newSize, newSize);
=======
				e.getSprite().setY(
						randomInteger(minHeightShark, maxHeightShark));
				newSizeShark = randomInteger(70, 150);
				e.getSprite().setSize(newSizeShark, newSizeShark + 20);
>>>>>>> upstream/master
			}
		}
	}

<<<<<<< HEAD
	//Zufällige Erzeugung von integer Werten zwischen min max
=======
	public void nextPlant(ArrayList<GameObject> list, float deltaTime) {
		countDownPlant -= deltaTime;

		// überprüft ob Zeit abgelaufen und Objekt nicht aktiv, schreibt in
		// Liste um dann gezeichnet zu werden
		if (countDownPlant < 0 && !listPlants[pointerPlant].active) {
			list.add(listPlants[pointerPlant]);

			listPlants[pointerPlant].active = true;
			pointerPlant = (pointerPlant + 1) % maxNoPlant;
			countDownPlant = maxCountDown + randomInteger(0, 2);
		}

		for (int i = 0; i < maxNoPlant; i++) {
			Plant p = listPlants[i];
			if (p.getActive()
					&& (p.getSprite().getX() < -p.getSprite().getWidth())) {

				p.setActive(false);
				list.remove(p);
				p.getSprite().setX(Gdx.graphics.getWidth());
				newSizePlant = randomInteger(50, 120);
				p.getSprite().setSize(newSizePlant, newSizePlant);
			}
		}
		
		int z = 2;

	}

	// Zufällige Erzeugung von integer Werten zwischen min max
>>>>>>> upstream/master
	public int randomInteger(int min, int max) {
		Random rand = new Random();
		int randomNum = rand.nextInt((max - min) + 1) + min;
		return randomNum;
	}

}
